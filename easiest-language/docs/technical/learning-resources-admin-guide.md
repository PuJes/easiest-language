# 学习资源管理功能使用指南

## 功能概述

现在admin页面已经支持完整的学习资源管理功能，包括：

- ✅ 查看现有学习资源
- ✅ 添加新的学习资源
- ✅ 编辑现有学习资源
- ✅ 删除学习资源
- ✅ 保存更改到文件系统

## 使用步骤

### 1. 访问Admin页面

1. 打开浏览器，访问 `http://localhost:3000/admin`
2. 输入管理员密码登录
3. 选择"语言编辑器"标签页

### 2. 选择要编辑的语言

1. 在语言选择下拉菜单中选择要编辑的语言
2. 等待语言数据加载完成

### 3. 管理学习资源

1. 点击"学习资源"标签页
2. 查看当前语言的所有学习资源
3. 使用以下功能：

#### 添加新资源

- 点击"添加资源"按钮
- 填写资源信息：
  - **资源标题**：资源的名称（必填）
  - **资源类型**：选择类型（app、website、book、podcast、course、video）
  - **资源链接**：资源的URL（可选）
  - **资源描述**：详细描述（必填）
  - **是否免费**：选择免费或付费
  - **评分**：1-5分评分
- 点击"添加资源"保存

#### 编辑现有资源

- 在资源列表中点击"编辑"按钮
- 修改资源信息
- 点击"保存更改"确认

#### 删除资源

- 在资源列表中点击"删除"按钮
- 确认删除操作

### 4. 保存更改

1. 完成所有编辑后，点击"保存资源"按钮
2. 系统会：
   - 创建数据备份
   - 更新学习资源文件
   - 显示保存结果

## 技术实现

### API端点

- **POST** `/api/admin/save-learning-resources`
- 请求体：
  ```json
  {
    "languageId": "es",
    "resources": [
      {
        "title": "资源名称",
        "type": "app",
        "url": "https://example.com",
        "description": "资源描述",
        "free": true,
        "rating": 4
      }
    ]
  }
  ```

### 数据存储

- 学习资源数据存储在 `src/lib/data/learning-resources.ts`
- 每次保存都会创建备份文件
- 备份文件保存在 `src/lib/data/backups/` 目录

### 文件格式

学习资源文件使用TypeScript格式，包含：

- 导入类型定义
- 按语言ID分组的学习资源数组
- 每个资源包含：title、type、url、description、free、rating字段

## 注意事项

1. **重启服务器**：保存更改后需要重启开发服务器以完全应用更改
2. **数据备份**：每次保存都会自动创建备份，备份文件包含时间戳
3. **数据验证**：系统会验证资源数据的完整性
4. **权限控制**：只有通过身份验证的管理员才能访问此功能

## 故障排除

### 常见问题

1. **保存失败**
   - 检查网络连接
   - 确认服务器正在运行
   - 查看浏览器控制台错误信息

2. **数据不显示**
   - 确认选择了正确的语言
   - 检查学习资源文件是否存在
   - 重启开发服务器

3. **权限问题**
   - 确认已正确登录管理员账户
   - 检查密码是否正确

### 日志查看

- 浏览器控制台：查看前端错误
- 服务器终端：查看后端错误
- 网络面板：查看API请求状态

## 更新日志

- **2025-01-XX**：初始版本发布
  - 实现完整的学习资源管理功能
  - 添加API端点支持
  - 集成到admin页面
