# Admin页面使用指南

## 🔐 安全登录

admin页面现已添加密码保护，确保只有授权用户才能访问管理功能。

### 登录信息

- **登录有效期**: 24小时
- **安全特性**: 自动过期、本地存储验证
- **密码获取**: 请联系系统管理员获取访问密码

## 页面访问

admin页面现已整合所有功能并添加密码保护：

- **访问地址**: `http://localhost:3000/admin` (需要密码登录)

## 功能概览

### 🎯 三大管理模块

#### 1. 语言编辑器 (默认激活)

- **59种语言**的完整编辑功能
- **实时编辑**：所有修改立即响应
- **4个编辑标签页**：
  - 基础信息：英文名、本地名、语言家族、书写系统等
  - FSI难度：分类等级、学习小时数、描述
  - 详细评分：总体难度、各项技能评分
  - 学习资源：即将开放

#### 2. 批量操作

- 批量更新FSI分类
- 数据验证和一致性检查
- 批量导入CSV/JSON数据

#### 3. 数据导出

- JSON格式：完整数据结构
- CSV格式：表格格式
- 灵活的导出选项
- 数据统计概览

## 🚀 使用步骤

### 登录系统

1. **访问admin页面**

   - 访问 `http://localhost:3000/admin`
   - 系统会自动显示登录界面
2. **输入密码**

   - 在密码输入框中输入管理员提供的密码
   - 点击"登录"按钮
3. **登录状态管理**

   - 登录成功后会显示"已登录"状态
   - 右上角有"退出登录"按钮
   - 登录状态保持24小时

### 编辑语言数据

1. **选择语言**

   - 登录后，页面加载语言数量会从"0"更新为实际数量
   - 从下拉列表中选择要编辑的语言
2. **编辑数据**

   - 在4个标签页间切换编辑不同类型的数据
   - 所有字段支持实时编辑
   - 修改后会显示"⚠️ 有未保存的更改"提示
3. **保存更改**

   - 点击"保存"按钮应用修改
   - 或点击"重置"按钮取消更改

### 创建新语言

1. 点击"创建新语言"按钮
2. 填写所有必要的字段
3. 保存新语言数据

## 📋 数据结构

### 基础信息

- **英文名称**: 语言的英文名（必填）
- **本地名称**: 语言的本地写法（必填）
- **语言家族**: 如Indo-European（必填）
- **语言子家族**: 如Romance
- **书写系统**: 如Latin（必填）
- **使用人数**: 全球使用人数
- **代表性国旗**: Emoji格式
- **显示颜色**: 用于UI展示
- **使用国家**: 逗号分隔的国家列表

### FSI难度

- **分类等级**: 0-5级难度分类
  - 0: 母语
  - 1: 最容易 (600-750小时)
  - 2: 较容易 (900小时)
  - 3: 中等难度 (1100小时)
  - 4: 较困难 (1800小时)
  - 5: 最困难 (2200小时)
- **学习小时数**: 具体的学习时间
- **FSI描述**: 对难度的详细说明

### 详细评分

- **总体难度**: 1-10分评分
- **技能评分**: 语法、发音、词汇 (1-10分)
- **详细难度分析**: 各项技能的详细难度 (1-5分)

## 🔧 技术特性

- **实时验证**: 输入范围自动验证
- **状态管理**: 完整的编辑状态跟踪
- **响应式设计**: 支持桌面和移动设备
- **数据持久化**: 所有修改都会保存到数据文件

## 📊 数据统计

当前系统包含：

- **59种语言**
- **13个语言家族**
- **150+个国家映射**
- **300+个学习资源**

## 🛠️ 故障排除

### 常见问题

1. **语言列表显示为0**

   - 这是正常的服务器端渲染状态
   - 等待客户端JavaScript加载完成
2. **选择语言后没有显示编辑界面**

   - 检查浏览器控制台是否有错误
   - 刷新页面重试
3. **保存按钮不可用**

   - 确保已选择语言且有修改
   - 检查是否有验证错误

### 故障排除建议

如果遇到问题：

1. 清空浏览器缓存和本地存储
2. 刷新页面重试
3. 检查浏览器控制台错误信息

## 🔒 安全特性

### 密码保护

- **安全认证**: 需要管理员密码才能访问
- **自动过期**: 24小时后需要重新登录
- **安全存储**: 使用本地存储管理认证状态
- **登出功能**: 可手动退出清除认证

### 自定义密码

要修改密码，请编辑文件：

```typescript
// src/lib/context/AuthContext.tsx
const ADMIN_PASSWORD = 'your_new_password'; // 设置您的安全密码
```

### 生产环境建议

1. 修改默认密码
2. 使用环境变量存储密码
3. 考虑更复杂的身份验证机制

## 🔄 更新历史

- **2025-01-14**: 添加密码保护功能，移除密码公开显示
- **2025-01-14**: 整合working页面功能到主admin页面
- **2025-01-14**: 完成语言编辑器的完整功能
- **2025-01-14**: 添加批量操作和数据导出功能
